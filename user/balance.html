<!doctype html>
<html lang="zh_CN" class="">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"> #include("/inc/head.html",title="我的研值")
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/main-v2.css" rel="stylesheet">
    <link href="/css/header-white.css" rel="stylesheet">
    <link href="/css/user.css" rel="stylesheet">
    <style>
        .cd-alert {
            height: 100px;
            background: transparent;
            background: url(/images/score-info-bg.png) no-repeat;
            background-size: 100%;
        }

        .recharge {
            position: fixed;
            z-index: 100;
            overflow: hidden;
            top: 50%;
            left: 50%;
            transform: translateX(-50%) translateY(-50%);
            width: 490px;
            background-color: #fff;
        }

        .recharge ul {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }

        .recharge li {
            width: 45%;
            text-align: center;
            padding: 20px 10px;
            border: 1px solid #ccc;
            margin-top: 10px;
            border-radius: 5px;
        }

        .recharge li.checked {
            border: 1px solid green;
        }

        .layui-icon-ok {
            color: green;
        }
    </style>
</head>

<body class="es-main-default es-nav-white cd-design">
    #include("/inc/header.html")
    <div class="es-wrap">
        <div class="container cd-container">
            <div class="cd-content">
                <div class="cd-sidebar">
                    <ul class="cd-sidebar__list">
                        <li class="cd-sidebar__heading"> 账户中心 </li>
                        <li class="cd-sidebar__item ">
                            <a href="play">播放记录</a>
                        </li>
                        <li class="cd-sidebar__item ">
                            <a href="/my/">我的课程</a>
                        </li>
                        <li class="cd-sidebar__item " style="display:none">
                            <a href="proCenter">Pro会员中心</a>
                        </li>
                        <li class="cd-sidebar__item " style="display:none">
                            <a href="collect">我的收藏</a>
                        </li>
                        <li class="cd-sidebar__item ">
                            <a href="orders">我的订单</a>
                        </li>
                        <li class="cd-sidebar__item active">
                            <a href="point">我的积分</a>
                        </li>
                        <li class="cd-sidebar__heading"> 个人设置 </li>
                        <li class="cd-sidebar__item ">
                            <a href="/user/">个人信息</a>
                        </li>
                        <li class="cd-sidebar__item ">
                            <a href="/msg/">系统消息</a>
                        </li>
                    </ul>
                </div>
                <div class="cd-main">
                    <div class="cd-main__heading">
                        <div class="cd-main__title">
                            我的研值
                        </div>
                    </div>
                    <div class="cd-main__body">
                        <ul class="cd-tabs" role="tablist">
                            <li role="presentation" class="active">
                                <a href="javascript:void(0);">我的研值</a>
                            </li>
                        </ul>
                        <div class="score-info-banner j-score-wrap" data-total-score="585">
                            <div class="alert cd-alert cd-alert-warning">
                                <!-- <div class="rule">
                                    <ul class="score-info-project-list">
                                        <li>
                                            <a href="javascript:void(0);" class="j-score-rule" rseat="801041_intro">
                                                <i class="icon-score-rule"></i>兑换积分</a>
                                        </li>
                                        <li>
                                            <a href="javascript:void(0);" class="j-score-rule" rseat="801041_intro">
                                                <i class="icon-score-rule"></i>研值充值</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <div class="score-info-current">
                                    <h3 class="score-info-current-txt">
                                        <em style="font-size:18px">已有研值</em>
                                        <span class="curScoreNum J-personal-score" style="font-size:36px">4.65</span>
                                        <i class="icon-myscore"></i>
                                    </h3>
                                    <p class="score-deadline" style="line-height:24px">研值用于付费课程，可通过
                                        <button class="layui-btn layui-btn-radius  convert">积分兑换</button> 和
                                        <button class="layui-btn layui-btn-radius rechargebtn">充值</button> 获取</p>
                                </div>
                            </div>
                        </div>
                        <!--研值明细-->
                        <div class="detail">
                            <p class="detail-title">我的研值明细</p>
                            <table>
                                <tr>
                                    <th class="type">项目分类</th>
                                    <th class="project">项目</th>
                                    <th class="score-change-time">时间</th>
                                    <th class="score-value">研值变化</th>
                                </tr>
                                <tr>
                                    <td class="type">购买</td>
                                    <td class="project">【中级】社工</td>
                                    <td class="score-change-time">时间</td>
                                    <td class="score-value">-10</td>
                                </tr>
                                <tr>
                                    <td class="type">购买</td>
                                    <td class="project">某个课程</td>
                                    <td class="score-change-time">时间</td>
                                    <td class="score-value">+10</td>
                                </tr>
                                <tr>
                                    <td class="type">购买</td>
                                    <td class="project">VIP开卡</td>
                                    <td class="score-change-time">时间</td>
                                    <td class="score-value">+10</td>
                                </tr>
                                <tr>
                                    <td class="type">充值</td>
                                    <td class="project">研值充值</td>
                                    <td class="score-change-time">时间</td>
                                    <td class="score-value">+5</td>
                                </tr>
                                <tr>
                                    <td class="type">购买</td>
                                    <td class="project">通过肢体语言解读内心</td>
                                    <td class="score-change-time">时间</td>
                                    <td class="score-value">+10</td>
                                </tr>
                                <tr>
                                    <td class="type">任务</td>
                                    <td class="project">累计观看100小时</td>
                                    <td class="score-change-time">时间</td>
                                    <td class="score-value">+10</td>
                                </tr>
                                <tr>
                                    <td class="type">任务</td>
                                    <td class="project">累计观看500小时</td>
                                    <td class="score-change-time">时间</td>
                                    <td class="score-value">+20</td>
                                </tr>
                            </table>
                        </div>
                        <!-- 积分明细结束 -->
                    </div>
                </div>
                <!-- 遮罩 -->
                <div class="mask"></div>
                <!-- 积分兑换弹出层 -->
                <div class="convertpop none">
                    <h3 class="popup-score-tit">
                        <a href="javascript:void(0);" class="popup-score-close j-rule-close"></a>兑换积分
                    </h3>
                    <div class="im-dialog-bd">
                        <div class="exchange-dialog-wrap exchange-dialog-wrap1">
                            <i class="dialog-left icon-readpackage"></i>
                            <div class="dialog-right">
                                <h4>可兑换积分
                                    <span class="canuse"> 465</span>
                                </h4>
                                <p>将存入我的积分，网站活动时可使用</p>
                                <p>1.00研值＝100积分</p>
                                <button data-method="offset" data-type="auto" class="layui-btn layui-btn-normal confirm">确认兑换</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 研值充值弹出层 -->
                <div class="recharge none">
                    <h3 class="popup-score-tit">
                        <a href="javascript:void(0);" class="popup-score-close j-rule-close"></a>研值充值
                    </h3>
                    <div class="im-dialog-bd">
                        <div class="exchange-dialog-wrap exchange-dialog-wrap1">
                            <ul>
                                <li>
                                    <!-- <i class="layui-icon layui-icon-ok none"></i> -->
                                    <p class="money">
                                        <span>10</span>元
                                    </p>

                                    <p>
                                        <span class="score">10</span>研值
                                    </p>
                                </li>
                                <li>
                                    <!-- <i class="layui-icon layui-icon-ok none"></i> -->
                                    <p class="money">
                                        <span>50</span>元
                                    </p>

                                    <p>
                                        <span class="score">50</span>研值
                                    </p>
                                </li>
                                <li>
                                    <!-- <i class="layui-icon layui-icon-ok none"></i> -->
                                    <p class="money">
                                        <span >100</span>元
                                    </p>

                                    <p>
                                        <span class="score">100</span>研值
                                    </p>
                                </li>
                                <li>
                                    <!-- <i class="layui-icon layui-icon-ok none"></i> -->
                                    <p class="money">
                                        <span >300</span>元
                                    </p>

                                    <p>
                                        <span class="score">300</span>研值
                                    </p>
                                </li>
                                <li>
                                    <!-- <i class="layui-icon layui-icon-ok none"></i> -->
                                    <p class="money">
                                        <span >500</span>元
                                    </p>

                                    <p>
                                        <span class="score">500</span>研值
                                    </p>
                                </li>
                                <li>
                                    <!-- <i class="layui-icon layui-icon-ok none"></i> -->
                                    <p class="money">
                                        <span >1000</span>元
                                    </p>

                                    <p>
                                        <span class="score">1000</span>研值
                                    </p>
                                </li>
                            </ul>
                            <div class="layui-form-item" style="margin-top:20px;">
                                <label class="layui-form-label" style="width:auto;">其他金额</label>
                                <div class="layui-input-inline">
                                    <input type="text" name="money" required="" lay-verify="required" lay-vertype="tips" placeholder="请输入金额" autocomplete="off"
                                        class="layui-input input">
                                </div>
                                <div class="layui-form-mid layui-word-aux " style="padding-left:10px;">充值范围在10~1000</div>
                            </div>
                            <div>
                                <button class="layui-btn layui-btn-fluid pay">充值</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    #include("/inc/footer.html",goto=false)
    <script>
        $(function () {
            // 点击兑换积分弹出层
            $(".convert").click(function () {
                $(".mask").css("display", "block");
                $(".convertpop").removeClass("none");
            })
            $(".convertpop .popup-score-close").click(function () {
                $(".mask").css("display", "none");
                $(".convertpop").addClass("none");
            })
            // 点击充值
            $(".rechargebtn").click(function () {
                $(".mask").css("display", "block");
                $(".recharge").removeClass("none");
            })
            $(".recharge .popup-score-close").click(function () {
                $(".mask").css("display", "none");
                $(".recharge").addClass("none");
            })
            // 选择充值金额{
            $(".recharge li").click(function () {
                $(this).addClass("checked").siblings().removeClass("checked");
                // $(".recharge i").addClass("none")
                // $(this).find("i").removeClass("none")
            })
            // 用户自定义金额时
            $(".input").keyup(function () {
                $(".recharge li").removeClass("checked");
            })
            // 用户确认充值支付时
            var money = 0;
            $(".pay").click(function () {
                var isChecked = $(".recharge li").hasClass("checked");
                var val = $(".input").val();
                if (isChecked) {
                    money = $("li.checked .money span").html()
                    layer.msg("充值成功" + money+"研值")
                } else if ( val> 10) {
                    money = $(".input").val()
                    layer.msg("充值成功" + money+"研值")
                } else if (!isChecked && !val) {
                    layer.msg("请选择充值金额")
                } else if (val < 10) {
                    layer.msg("充值金额不能小于10元")
                }
            })
        })

        layui.use('layer', function () { //独立版的layer无需执行这一句
            var $ = layui.jquery, layer = layui.layer; //独立版的layer无需执行这一句
            $(".confirm").click(function () {
                $(".convertpop .popup-score-close").trigger("click");
                layer.msg('兑换积分成功喽', {
                    icon: 1,
                    time: 2000, //2s后自动关闭
                    btn: ['去我的积分看看', '知道啦',],
                    btn1: function () {
                        location.href = "point1"
                    }
                });
            })
        })

    </script>
</body>

</html>