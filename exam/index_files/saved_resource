(function(){var xst={};var program={};var settings={id:'2aaacb1b41ebbfae8366cae424171f2e',domain:["www.xsteach.com","gkk.xsteach.com","m.extend.xsteach.com"],expired:31536000000,vdur:1800000,icon:"/hmt/icon/21|gif|20|20",ctrk:true,med:0,nv:-1,align:true,cvcf:['btn_submit','regBtn']};xst.js={};xst.js.isIE=/msie (\d+\.\d+)/i.test(navigator.userAgent);xst.js.IEVersion=/msie (\d+\.\d+)/i.test(navigator.userAgent)?(document.documentMode||+RegExp.$1):undefined;xst.js.cookieEnabled=navigator.cookieEnabled;xst.js.javaEnabled=navigator.javaEnabled();xst.js.language=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||"";xst.js.resolution=(window.screen.width||0)+"x"+(window.screen.height||0);xst.js.colorDepth=window.screen.colorDepth||0;xst.cookie={};xst.cookie.set=function(key,value,obj){var expires=null;if(obj.expired){expired=new Date;expired.setTime(expired.getTime()+obj.expired)}document.cookie=key+"="+value+(obj.domain?"; domain="+obj.domain:"")+(obj.path?"; path="+obj.path:"")+(expires?"; expires="+expires.toGMTString():"")+(obj.secure?"; secure":"")};xst.cookie.get=function(key){return(key=new RegExp("(^| )"+key+"=([^;]*)(;|$)").exec(document.cookie))?key[2]:null};xst.dom={};xst.dom.getById=function(id){return document.getElementById(id)};xst.dom.getClosedNodeA=function(obj){var e="A";while((obj=obj.parentNode)&&1==obj.nodeType){if(obj.tagName==e){return obj}}return null};(xst.dom.$=function(){var hasRun=false,anonymousItems=[],DomLoadingCallBack;function runAfterLoading(){if(!runAfterLoading.D){runAfterLoading.D=true;for(var d=0,e=anonymousItems.length;d<e;d++){anonymousItems[d]()}}}function IEDomDone(){try{document.documentElement.doScroll("left")}catch(b){setTimeout(IEDomDone,1);return}runAfterLoading()}if(document.addEventListener){DomLoadingCallBack=function(){document.removeEventListener("DOMContentLoaded",DomLoadingCallBack,false);runAfterLoading()}}else{if(document.attachEvent){DomLoadingCallBack=function(){if("complete"===document.readyState){document.detachEvent("onreadystatechange",DomLoadingCallBack);runAfterLoading()}}}}(function(){if(!hasRun){hasRun=true;if("complete"===document.readyState){runAfterLoading.D=true}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",DomLoadingCallBack,false);window.addEventListener("load",runAfterLoading,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",DomLoadingCallBack);window.attachEvent("onload",runAfterLoading);var b=false;try{b=window.frameElement==null}catch(m){}document.documentElement.doScroll&&b&&IEDomDone()}}})();return function(anonymous){runAfterLoading.D?anonymous():anonymousItems.push(anonymous)}}()).D=false;xst.event={};xst.event.bind=function(obj,eventName,anonymous){if(obj.attachEvent){obj.attachEvent("on"+eventName,function(b){anonymous.call(obj,b)})}else{obj.addEventListener&&obj.addEventListener(eventName,anonymous,false)}};xst.event.preventDefault=function(obj){obj.preventDefault?obj.preventDefault():obj.returnValue=false};xst.string={};xst.string.stringify=function(){function a(a){/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/["\\\x00-\x1f]/g,function(a){var b=f[a];if(b)return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)}));return'"'+a+'"'}function e(a){return 10>a?"0"+a:a}var f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(b){switch(typeof b){case"undefined":return"undefined";case"number":return isFinite(b)?String(b):"null";case"string":return a(b);case"boolean":return String(b);default:if(b===null)return"null";if(b instanceof Array){var d=["["],f=b.length,m,g,k;for(g=0;g<f;g++)switch(k=b[g],typeof k){case"undefined":case"function":case"unknown":break;default:m&&d.push(","),d.push(xst.string.stringify(k)),m=1}d.push("]");return d.join("")}if(b instanceof Date)return'"'+b.getFullYear()+"-"+e(b.getMonth()+1)+"-"+e(b.getDate())+"T"+e(b.getHours())+":"+e(b.getMinutes())+":"+e(b.getSeconds())+'"';m=["{"];g=xst.string.stringify;for(f in b)if(Object.prototype.hasOwnProperty.call(b,f))switch(k=b[f],typeof k){case"undefined":case"unknown":case"function":break;default:d&&m.push(","),d=1,m.push(g(f)+":"+g(k))}m.push("}");return m.join("")}}}();xst.lang={};xst.lang.checkType=function(obj,typeName){return"[object "+typeName+"]"==={}.toString.call(obj)};xst.localStorage={};xst.localStorage.hidden=function(){if(!xst.localStorage.g){try{xst.localStorage.g=document.createElement("input");xst.localStorage.g.type="hidden";xst.localStorage.g.style.display="none";xst.localStorage.g.addBehavior("#default#userData");document.getElementsByTagName("head")[0].appendChild(xst.localStorage.g)}catch(e){return false}}return true};xst.localStorage.set=function(key,value,expires){var expired=new Date;expired.setTime(expired.getTime()+expires||31536000000);try{if(window.localStorage){value=expired.getTime()+"|"+value;window.localStorage.setItem(key,value)}else{if(xst.localStorage.hidden()){xst.localStorage.g.expires=expired.toUTCString();xst.localStorage.g.load(document.location.hostname);xst.localStorage.g.setAttribute(key,value);xst.localStorage.g.save(document.location.hostname)}}}catch(d){}};xst.localStorage.get=function(key){if(window.localStorage){if(key=window.localStorage.getItem(key)){var index=key.indexOf("|");var saveTime=key.substring(0,index)-0;if(saveTime&&saveTime>(new Date).getTime()){return key.substring(index+1)}}}else if(xst.localStorage.hidden()){try{return xst.localStorage.g.load(document.location.hostname),xst.localStorage.g.getAttribute(key)}catch(b){}}return null};xst.localStorage.remove=function(key){if(window.localStorage){window.localStorage.removeItem(key)}else if(xst.localStorage.hidden()){try{xst.localStorage.g.load(document.location.hostname);xst.localStorage.g.removeAttribute(key);xst.localStorage.g.save(document.location.hostname)}catch(e){}}};xst.sessionStorage={};xst.sessionStorage.set=function(key,value){if(window.sessionStorage){try{window.sessionStorage.setItem(key,value)}catch(f){}}};xst.sessionStorage.get=function(key){return window.sessionStorage?window.sessionStorage.getItem(key):null};xst.sessionStorage.remove=function(key){window.sessionStorage&&window.sessionStorage.removeItem(key)};xst.http={};xst.http.get=function(url,callback){var img=new Image;var id="mini_xsteach_log_"+Math.floor(2147483648*Math.random()).toString(36);window[id]=img;img.onload=img.onerror=img.onabort=function(){img.onload=img.onerror=img.onabort=null;img=window[id]=null;callback&&callback(url)};img.src=url};xst.http.getLogPath=function(index,RouterItems,defaultPath){if(typeof(RouterItems)=="object"&&Object.prototype.toString.call(RouterItems).toLowerCase()=="[object object]"&&!RouterItems.length){for(key in RouterItems){if(key===index){return RouterItems[key]}}return defaultPath}else{return RouterItems}};xst.url={};xst.url.getByKey=function(url,key){var values=url.match(new RegExp("(^|&|\\?|#)("+key+")=([^&#]*)(&|$|#)",""));return values?values[3]:null};xst.url.ya=function(a){return(a=a.match(/^(https?:\/\/)?([^\/\?#]*)/))?a[2].replace(/.*@/,""):null};xst.url.V=function(a){return(a=xst.url.ya(a))?a.replace(/:\d+$/,""):a};program.config={logSys:"/",logPath:"uba.xsteach.com/j",logPathCus:{"j":"uba.xsteach.com/j","v":"uba.xsteach.com/v"},preVisitTime:0,curVisitTime:Math.round(+new Date/1000),protocol:"https:"===document.location.protocol?"https:":"http:",reportIntervalTime:600000,maxClick:10,maxUrlLen:1024,maxInt:2147483647,queryList:"ck ds ep et rnd sh su cv u ass st tt iv tm ip".split(" ")};(function(){var customerEvent={eventItems:{},bind:function(eventName,method){this.eventItems[eventName]=this.eventItems[eventName]||[];this.eventItems[eventName].push(method)},trigger:function(eventName,method){this.eventItems[eventName]=this.eventItems[eventName]||[];for(var i=0;i<this.eventItems[eventName].length;i++){this.eventItems[eventName][i](method)}}};return program.customerEvent=customerEvent})();(function(){function loadScript(src,callback){var script=document.createElement("script");script.charset="utf-8";if(xst.lang.checkType(callback,"Function")){if(script.readyState){script.onreadystatechange=function(){if("loaded"===script.readyState||"complete"===script.readyState){script.onreadystatechange=null;callback()}}}else{script.onload=function(){callback()}}}script.src=src;var firstScript=document.getElementsByTagName("script")[0];firstScript.parentNode.insertBefore(d,firstScript)}return program.loadScript=loadScript})();(function(){var appendIcon={init:function(){if(""!==settings.icon){var iconSetting=settings.icon.split("|");var url=program.config.logSys+"?s="+settings.id;var iconSrc='/'+iconSetting[0]+"."+iconSetting[1];var output='<a href="'+url+'" target="_blank"><img border="0" src="'+iconSrc+'" width="'+iconSetting[2]+'" height="'+iconSetting[3]+'"></a>'}}};program.customerEvent.bind("pv-b",appendIcon.init);return appendIcon})();(function(){var CoordinateItems=[];var traceMouseClick={init:function(){if(settings.ctrk){xst.event.bind(document,"mouseup",traceMouseClick.recordClick());xst.event.bind(window,"unload",function(){traceMouseClick.report()});setInterval(function(){traceMouseClick.report()},program.config.reportIntervalTime)}},recordClick:function(){return function(event){coordinates=traceMouseClick.getCoordinates(event);if(""!==coordinates){var urlLengthCurClick=(program.config.protocol+"//"+program.config.logPath+"?"+program.reportLog.buildQueryString().replace(/ep=[^&]*/,"ep="+encodeURIComponent("["+coordinates+"]"))).length;if(urlLengthCurClick+(program.config.maxInt+"").length<program.config.maxUrlLen){if(urlLengthCurClick+encodeURIComponent(CoordinateItems.join(",")+(CoordinateItems.length?",":"")).length+(program.maxInt+"").length>program.config.maxUrlLen){traceMouseClick.report()}CoordinateItems.push(coordinates);if(CoordinateItems.length>=program.config.maxClick||/t:a/.test(coordinates)){traceMouseClick.report()}}}}},getCoordinates:function(event){if(xst.js.isIE){y=Math.max(document.documentElement.scrollTop,document.body.scrollTop);x=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);x=event.clientX+x;y=event.clientY+y}else{x=event.pageX;y=event.pageY}var n=window.innerWidth||document.documentElement.clientWidth||document.body.offsetWidth;if(settings.align){x-=n/2}else{x-=n}var xy="{x:"+x+",y:"+y+",";var eventDom=event.target||event.srcElement;var domA="";if("a"==eventDom.tagName.toLowerCase()){domA=eventDom}else{domA=xst.dom.getClosedNodeA(eventDom)}if(domA){xy+=("t:a,u:"+encodeURIComponent(domA.href)+"}")}else{xy+="t:b}"}return xy},report:function(){if(0!==CoordinateItems.length){program.reportLog.querystring.et=2;program.reportLog.querystring.ep="["+CoordinateItems.join(",")+"]";program.reportLog.querystring.ass='p';program.reportLog.sending();CoordinateItems=[]}}};program.customerEvent.bind("pv-b",traceMouseClick.init);return traceMouseClick})();(function(){var m=true;var g=true;var k=true;var n=true;var v=+new Date;var p=v;var t=0;var u=true;var x=f("visibilityState");var z=f("hidden");var y;function unLoadPage(){return function(){program.reportLog.querystring.u=encodeURIComponent(document.location.href);program.reportLog.querystring.nv=0;program.reportLog.querystring.st=4;program.reportLog.querystring.et=3;program.reportLog.querystring.ep=program.pageTime.Aa()+","+program.pageTime.xa();program.reportLog.querystring.ass='p';program.reportLog.querystring.tt='';program.reportLog.querystring.tm='1544201690';program.reportLog.sendingRouter()}}function e(){clearTimeout(y);var a;x&&(a="visible"==document[x]);z&&(a=!document[z]);g="undefined"==typeof a?true:a;if((!m||!k)&&g&&n){u=true;p=+new Date}else if(m&&k&&(!g||!n)){u=false;t+=+new Date-p}m=g;k=n;y=setTimeout(e,100)}function f(a){var k=document;var p="";if(a in k){p=a}else{for(var b=["webkit","ms","moz","o"],d=0;d<b.length;d++){var e=b[d]+a.charAt(0).toUpperCase()+a.slice(1);if(e in k){p=e;break}}}return p}function b(a){if(!("focus"==a.type||"blur"==a.type)||!(a.target&&a.target!=window)){n=("focus"==a.type)||(("focusin"==a.type)?true:false);e()}}e();(function(){var a=x.replace(/[vV]isibilityState/,"visibilitychange");xst.event.bind(document,a,e);xst.event.bind(window,"pageshow",e);xst.event.bind(window,"pagehide",e);if("object"==typeof document.onfocusin){xst.event.bind(document,"focusin",b);xst.event.bind(document,"focusout",b)}else{xst.event.bind(window,"focus",b);xst.event.bind(window,"blur",b)}})();program.pageTime={Aa:function(){return+new Date-v},xa:function(){return u?+new Date-p+t:t}};program.customerEvent.bind("pv-b",function(){xst.event.bind(window,"unload",unLoadPage())});return program.pageTime})();(function(){function a(k){for(var b in k){if({}.hasOwnProperty.call(k,b)){var d=k[b];xst.lang.checkType(d,"Object")||xst.lang.checkType(d,"Array")?a(d):k[b]=String(d)}}}function formatApiParams($param){return $param&&$param.replace?$param.replace(/'/g,"'0").replace(/\*!/g,"'1").replace(/!/g,"'2"):$param}var opiExtension={z:[],G:0,Y:false,init:function(){opiExtension.e=0;program.customerEvent.bind("pv-b",function(){opiExtension.pa();opiExtension.ra()});program.customerEvent.bind("pv-d",opiExtension.sa);program.customerEvent.bind("stag-b",function(){program.reportLog.querystring.api=opiExtension.e||opiExtension.G?opiExtension.e+"_"+opiExtension.G:""});program.customerEvent.bind("stag-d",function(){program.reportLog.querystring.api=0;opiExtension.e=0;opiExtension.G=0})},pa:function(){var a=window._xsmt||[];if(!a||xst.lang.checkType(a,"Array")){window._xsmt={id:settings.id,cmd:{},push:function(){for(var a=window._xsmt,k=0;k<arguments.length;k++){var p=arguments[k];if(xst.lang.checkType(p,"Array")){a.cmd[a.id].push(p);if("_setAccount"===p[0]){if(1<p.length&&/^[0-9a-f]{32}$/.test(p[1])){p=p[1];a.id=p;a.cmd[p]=a.cmd[p]||[]}}}}}};window._xsmt.cmd[settings.id]=[];window._xsmt.push.apply(window._xsmt,a)}},ra:function(){var a=window._xsmt;if(a&&a.cmd&&a.cmd[settings.id]){for(var b=a.cmd[settings.id],d=/^_track(Event|MobConv|Order|RTEvent)$/,p=0,e=b.length;p<e;p++){var f=b[p];d.test(f[0])?opiExtension.z.push(f):opiExtension.P(f)}}a.cmd[settings.id]={push:opiExtension.P}},sa:function(){if(0<opiExtension.z.length){for(var a=0,b=opiExtension.z.length;a<b;a++){opiExtension.P(opiExtension.z[a])}}opiExtension.z=null},P:function(a){var b=a[0];if(opiExtension.hasOwnProperty(b)&&xst.lang.checkType(opiExtension[b],"Function")){opiExtension[b](a)}},_setAccount:function(a){1<a.length&&/^[0-9a-f]{32}$/.test(a[1])&&(opiExtension.e|=1)},_setAutoPageview:function(a){if(1<a.length&&(a=a[1],false===a||true===a)){opiExtension.e|=2;program.reportLog.autoPageview=a}},_trackPageview:function(a){if(1<a.length&&a[1].charAt&&"/"===a[1].charAt(0)){opiExtension.e|=4;program.reportLog.querystring.et=0;program.reportLog.querystring.ep="";if(program.reportLog.hasTracePageview){program.reportLog.querystring.nv=0;program.reportLog.querystring.st=4}else{program.reportLog.hasTracePageview=true}var currentUrl=program.reportLog.querystring.u;var preUrl=program.reportLog.querystring.su;program.reportLog.querystring.u=program.config.protocol+"//"+document.location.host+a[1];opiExtension.Y||(program.reportLog.querystring.su=document.location.href);program.reportLog.querystring.ass='p';program.reportLog.sending();program.reportLog.querystring.u=currentUrl;program.reportLog.querystring.su=preUrl}},_trackEvent:function(params){if(2<params.length){opiExtension.e|=8;program.reportLog.querystring.nv=0;program.reportLog.querystring.st=4;program.reportLog.querystring.et=4;program.reportLog.querystring.ep=formatApiParams(params[1])+"*"+formatApiParams(params[2])+(params[3]?"*"+formatApiParams(params[3]):"")+(params[4]?"*"+formatApiParams(params[4]):"");program.reportLog.sending()}},_trackEventCus:function(params){if(2<params.length){var queryString=[];queryString.push("sh="+settings.id);queryString.push("ass="+params[1]);queryString.push("et="+params[2]);if(xst.lang.checkType(params[3],"Object")){for(var key in params[3]){if(xst.lang.checkType(params[3][key],"Object")||xst.lang.checkType(params[3][key],"Array")){a(params[3][key]);queryString.push(key+"="+xst.string.stringify(params[3][key]))}else{queryString.push(key+"="+encodeURIComponent(params[3][key]))}}}queryString.push("cv="+program.reportLog.querystring.cv);program.customerEvent.trigger("stag-b");var url=program.config.protocol+"//"+program.config.logPath+"?"+queryString.join("&");program.customerEvent.trigger("stag-d");xst.http.get(url,function(url){})}},_trackEventCusRouter:function(params){if(2<params.length){var queryString=[];queryString.push("sh="+settings.id);queryString.push("ass="+params[1]);queryString.push("et="+params[2]);if(xst.lang.checkType(params[3],"Object")){for(var key in params[3]){if(xst.lang.checkType(params[3][key],"Object")||xst.lang.checkType(params[3][key],"Array")){a(params[3][key]);queryString.push(key+"="+xst.string.stringify(params[3][key]))}else{queryString.push(key+"="+encodeURIComponent(params[3][key]))}}}queryString.push("cv="+program.reportLog.querystring.cv);program.customerEvent.trigger("stag-b");var url=program.config.protocol+"//"+xst.http.getLogPath(program.reportLog.logRouterIndex,program.config.logPathCus,program.config.logPath)+"?"+queryString.join("&");program.customerEvent.trigger("stag-d");xst.http.get(url,function(url){})}},_setCustomVar:function(a){if(!(4>a.length)){var b=a[1];var d=a[4]||3;if(0<b&&6>b&&0<d&&4>d){opiExtension.G++;for(var p=(program.reportLog.querystring.cv||"*").split("!"),f=p.length;f<b-1;f++){p.push("*")}p[b-1]=d+"*"+formatApiParams(a[2])+"*"+formatApiParams(a[3]);program.reportLog.querystring.cv=p.join("!");a=program.reportLog.querystring.cv.replace(/[^1](\*[^!]*){2}/g,"*").replace(/((^|!)\*)+$/g,"");""!==a?program.reportLog.setData("XsHm_cv_"+settings.id,encodeURIComponent(a),settings.expired):program.reportLog.removeDate("XsHm_cv_"+settings.id)}}},_setIntervalVar:function(a){if(a.length>1){program.reportLog.querystring.iv=xst.string.stringify(a[1])}},_setRouterIndex:function(a){if(a.length>1){program.reportLog.logRouterIndex=formatApiParams(a[1])}},_setReferrerOverride:function(a){1<a.length&&(program.reportLog.querystring.su=a[1].charAt&&"/"===a[1].charAt(0)?program.configprotocol+"//"+window.location.host+a[1]:a[1],opiExtension.Y=r)},_trackOrder:function(d){d=d[1];if(xst.lang.checkType(d,"Object")){a(d);opiExtension.e|=16;program.reportLog.querystring.nv=0;program.reportLog.querystring.st=4;program.reportLog.querystring.et=94;program.reportLog.querystring.ep=xst.string.stringify(d);program.reportLog.sending()}},_trackRTPageview:function(d){d=d[1];xst.lang.checkType(d,"Object")&&(a(d),d=b.stringify(d),512>=encodeURIComponent(d).length&&(opiExtension.e|=64,program.reportLog.querystring.rt=d))},_setUserId:function(a){a=a[1]}};opiExtension.init();program.opiExtension=opiExtension;return program.opiExtension})();(function(){function reportLog(){if("undefined"===typeof window["_xshm_loaded_"+settings.id]){window["_xshm_loaded_"+settings.id]=true;this.querystring={};this.autoPageview=true;this.hasTracePageview=false;this.logRouterIndex='j';this.init()}}reportLog.prototype={O:function(a,b){a="."+a.replace(/:\d+/,"");b="."+b.replace(/:\d+/,"");var d=a.indexOf(b);return-1<d&&d+b.length===a.length},Z:function(a,b){a=a.replace(/^https?:\/\//,"");return 0===a.indexOf(b)},C:function(a){for(var b=0;b<settings.domain.length;b++){if(-1<settings.domain[b].indexOf("/")){if(this.Z(a,settings.domain[b])){return true}}else{var d=xst.url.V(a);if(d&&this.O(d,settings.domain[b])){return true}}}return false},L:function(){for(var a=document.location.hostname,b=0,d=settings.domain.length;b<d;b++)if(this.O(a,settings.domain[b]))return settings.domain[b].replace(/(:\d+)?[\/\?#].*/,"");return a},U:function(){for(var a=0,b=settings.domain.length;a<b;a++){var d=settings.domain[a];if(-1<d.indexOf("/")&&this.Z(document.location.href,d))return d.replace(/^[^\/]+(\/.*)/,"$1")+"/"}return"/"},Ba:function(){if(!document.referrer){return program.config.curVisitTime-program.config.preVisitTime>settings.vdur?1:4}var a=true;if(this.C(document.referrer)&&this.C(document.location.href)){a=true}else{a=xst.url.V(document.referrer);a=this.O(a||"",document.location.hostname)}if(a){if(program.config.curVisitTime-program.config.preVisitTime>settings.vdur){return 1}else{return 4}}else{return 3}},getData:function(key){try{return xst.cookie.get(key)||xst.sessionStorage.get(key)||xst.localStorage.get(key)}catch(b){}},setData:function(key,value,expired){try{xst.cookie.set(key,value,{domain:this.L(),path:this.U(),expired:expired});expired?xst.localStorage.set(key,value,expired):xst.sessionStorage.set(key,value)}catch(e){}},removeDate:function(key){try{xst.cookie.set(key,"",{domain:this.L(),path:this.U(),expired:-1});xst.sessionStorage.remove(key);xst.localStorage.remove(key)}catch(b){}},buildQueryString:function(){for(var a=[],b=this.querystring.et,d=0,e=program.config.queryList.length;d<e;d++){var key=program.config.queryList[d];var value=this.querystring[key];"undefined"!==typeof value&&""!==value&&a.push(key+"="+encodeURIComponent(value))}return a.join("&")},sending:function(callback){var ThisReportLog=this;ThisReportLog.querystring.rnd=Math.round((+new Date())/1000);program.customerEvent.trigger("stag-b");var url=program.config.protocol+"//"+program.config.logPath+"?"+ThisReportLog.buildQueryString();program.customerEvent.trigger("stag-d");ThisReportLog.ea(url);xst.http.get(url,function(url){ThisReportLog.R(url);xst.lang.checkType(callback,"Function")&&callback.call(ThisReportLog)})},sendingRouter:function(callback){var ThisReportLog=this;ThisReportLog.querystring.rnd=Math.round((+new Date())/1000);program.customerEvent.trigger("stag-b");var url=program.config.protocol+"//"+xst.http.getLogPath(program.reportLog.logRouterIndex,program.config.logPathCus,program.config.logPath)+"?"+ThisReportLog.buildQueryString();program.customerEvent.trigger("stag-d");ThisReportLog.ea(url);xst.http.get(url,function(url){ThisReportLog.R(url);xst.lang.checkType(callback,"Function")&&callback.call(ThisReportLog)})},Qa:function(){function a(){program.customerEvent.trigger("pv-d")}if(this.autoPageview){this.hasTracePageview=true;this.querystring.et=0;this.querystring.ep="";this.querystring.ass="p";this.querystring.tt=document.title||"";this.sending(a)}else{a()}},ea:function(url){var b=xst.sessionStorage.get("XsHm_unsent_"+settings.id)||"";var d=this.querystring.u?"":"&u="+encodeURIComponent(document.location.href);b=encodeURIComponent(url.replace(/^https?:\/\//,"")+d)+(b?","+b:"");xst.sessionStorage.set("XsHm_unsent_"+settings.id,b)},R:function(a){var b=xst.sessionStorage.get("XsHm_unsent_"+settings.id)||"";if(b){a=encodeURIComponent(a.replace(/^https?:\/\//,""));a=new RegExp(a.replace(/([\*\(\)])/g,"\\$1")+"(%26u%3D[^,]*)?,?","g");(b=b.replace(a,"").replace(/,$/,""))?xst.sessionStorage.set("XsHm_unsent_"+settings.id,b):xst.sessionStorage.remove("XsHm_unsent_"+settings.id)}},Ra:function(){var ThisReportLog=this;var b=xst.sessionStorage.get("XsHm_unsent_"+settings.id);if(b)for(var b=b.split(","),d=function(b){xst.http.get(program.config.protocol+"//"+decodeURIComponent(b),function(b){ThisReportLog.R(b)})},e=0,g=b.length;e<g;e++)d(b[e])},Ta:function(){var a,b,d,e,f;program.config.preVisitTime=this.getData("XsHm_lpvt_"+settings.id)||0;13===program.config.preVisitTime.length&&(program.config.preVisitTime=Math.round(program.config.preVisitTime/1000));b=this.Ba();a=4!==b?1:0;if(d=this.getData("XsHm_lvt_"+settings.id)){e=d.split(",");for(f=e.length-1;0<=f;f--)13===e[f].length&&(e[f]=""+Math.round(e[f]/1E3));for(;2592E3<program.config.curVisitTime-e[0];){e.shift()}f=4>e.length?2:3;for(1===a&&e.push(program.config.curVisitTime);4<e.length;)e.shift();d=e.join(",");e=e[e.length-1]}else{d=program.config.curVisitTime;e="";f=1}this.setData("XsHm_lvt_"+settings.id,d,settings.expired);this.setData("XsHm_lpvt_"+settings.id,program.config.curVisitTime);d=program.config.curVisitTime===this.getData("XsHm_lpvt_"+settings.id)?"1":"0";if(0===settings.nv&&this.C(document.location.href)&&(""===document.referrer||this.C(document.referrer))){a=0,b=4}this.querystring.nv=a;this.querystring.st=b;this.querystring.cc=d;this.querystring.lt=e;this.querystring.lv=f},resetQueryString:function(){this.Ta();this.querystring.sh=settings.id;this.querystring.su=document.referrer;this.querystring.ds=xst.js.resolution;this.querystring.ck=xst.js.cookieEnabled?1:0;this.querystring.cv=decodeURIComponent(this.getData("XsHm_cv_"+settings.id)||"")},init:function(){try{this.resetQueryString();if(0===this.querystring.nv){this.Ra()}else{this.R(".*")}program.reportLog=this;program.customerEvent.trigger("pv-b");this.Qa()}catch(a){var b=[];b.push("sh="+settings.id);b.push("n="+encodeURIComponent(a.name));b.push("m="+encodeURIComponent(a.message));b.push("r="+encodeURIComponent(document.referrer));xst.http.get(program.config.protocol+"//"+program.config.logPath+"?"+b.join("&"))}}};return new reportLog()})();(function(){if("undefined"!==typeof program.reportLog&&xst.lang.checkType(settings.cvcf,"Array")&&0<settings.cvcf.length){var tranceFormSubmit={bindEvent:function(){for(var b=settings.cvcf.length,e,g=0;g<b;g++){if(e=xst.dom.getById(decodeURIComponent(settings.cvcf[g]))){xst.event.bind(e,"click",tranceFormSubmit.report())}}},report:function(){return function(event){program.reportLog.querystring.et=86;var a={n:"form",t:"clk"};a.id=event.target.id;program.reportLog.querystring.ep=xst.string.stringify(a);program.reportLog.sending()}}};xst.dom.$(function(){tranceFormSubmit.bindEvent()})}})()})();